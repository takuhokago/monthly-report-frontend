<div *ngIf="employee$ | async as employee; else loading">
  <div class="container mt-5 pt-4">
    <h1 class="mb-1">従業員 詳細</h1>

    <!-- 一覧・編集ボタン -->
    <div class="d-flex flex-wrap gap-2 flex-md-row flex-column mt-4">
      <app-button
        label="一覧に戻る"
        color="gray"
        [routerLink]="'/employees'"
        [block]="true"
      ></app-button>
      <app-button
        label="編集"
        color="blue"
        [routerLink]="'/employees/' + employee.code + '/edit'"
        [block]="true"
      ></app-button>
      <app-button
        label="削除"
        color="red"
        (click)="onDelete(employee.code)"
        [block]="true"
      ></app-button>
    </div>

    <!-- 基本情報 -->
    <h5 class="mt-4 mb-3 border-bottom pb-2">基本情報</h5>
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <tbody>
          <tr>
            <th scope="row" class="w-25">従業員番号</th>
            <td>{{ employee.code }}</td>
          </tr>
          <tr>
            <th scope="row">氏名</th>
            <td>{{ employee.lastName }} {{ employee.firstName }}</td>
          </tr>
          <tr>
            <th scope="row">メールアドレス</th>
            <td>{{ employee.email }}</td>
          </tr>
          <tr>
            <th scope="row">権限</th>
            <td>{{ employee.role }}</td>
          </tr>
          <tr>
            <th scope="row">所属</th>
            <td>{{ employee.departmentName }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="text-center mt-5">読み込み中...</div>
</ng-template>
