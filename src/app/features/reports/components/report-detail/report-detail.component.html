<div *ngIf="report$ | async as report; else loading">
  <div class="container mt-5 pt-3">
    <h2 class="mb-4">報告書 詳細</h2>

    <table class="table table-bordered">
      <tr>
        <th>月</th>
        <td>{{ report.reportMonth }}</td>
      </tr>
      <tr>
        <th>提出期日</th>
        <td>{{ report.reportDeadline }}</td>
      </tr>
      <tr>
        <th>提出日</th>
        <td>{{ report.submittedAt || "-" }}</td>
      </tr>
      <tr>
        <th>更新日時</th>
        <td>{{ report.updatedAt }}</td>
      </tr>
      <tr>
        <th>所属</th>
        <td>{{ report.departmentName }}</td>
      </tr>
      <tr>
        <th>完了</th>
        <td>{{ report.completeFlg ? "✓" : "✕" }}</td>
      </tr>
      <tr>
        <th>承認</th>
        <td>
          {{
            report.approvalFlg === true
              ? "承認"
              : report.approvalFlg === false
              ? "非承認"
              : "-"
          }}
        </td>
      </tr>
      <tr>
        <th>コメント</th>
        <td>{{ report.comment || "-" }}</td>
      </tr>
    </table>

    <h4 class="mt-4">業務内容</h4>
    <p>{{ report.contentBusiness }}</p>

    <h5 class="mt-3">時間</h5>
    <ul>
      <li>勤務時間: {{ report.timeWorked }} 時間</li>
      <li>残業時間: {{ report.timeOver }} 時間</li>
    </ul>

    <h5 class="mt-3">目標達成率</h5>
    <ul>
      <li>業務目標: {{ report.rateBusiness }} %</li>
      <li>学習目標: {{ report.rateStudy }} %</li>
    </ul>

    <h5 class="mt-3">その他</h5>
    <ul>
      <li>業務量推移: {{ report.trendBusiness }}</li>
      <li>メンバー関連: {{ report.contentMember }}</li>
      <li>お客様情報: {{ report.contentCustomer }}</li>
      <li>問題点と解決策: {{ report.contentProblem }}</li>
      <li>今月の業務目標評価: {{ report.evaluationBusiness }}</li>
      <li>今月の学習目標評価: {{ report.evaluationStudy }}</li>
      <li>来月の業務目標: {{ report.goalBusiness }}</li>
      <li>来月の学習目標: {{ report.goalStudy }}</li>
      <li>会社関係: {{ report.contentCompany }}</li>
      <li>その他: {{ report.contentOthers }}</li>
    </ul>

    <a routerLink="/reports" class="btn btn-secondary mt-4">一覧に戻る</a>
  </div>
</div>

<ng-template #loading>
  <div class="text-center mt-5">読み込み中...</div>
</ng-template>
